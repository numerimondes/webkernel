<style>
@media (min-width: 540px) {

    :root {
        /* Spacing System - Unified margins for all components */
        --WColorTheme-space-outer: 0.65rem;
        --WColorTheme-space-inner: 0.65rem;
        --WColorTheme-space-top: 0.65rem;
        --WColorTheme-space-bottom: 0.65rem;

        /* Border Radius System */
        --WColorTheme-radius-container: 7px;
        --WColorTheme-radius-content: 13px;

        /* Scrollbar System */
        --WColorTheme-scrollbar-size: 4px;
        --WColorTheme-scrollbar-radius: 2px;
        --WColorTheme-scrollbar-opacity: 0.2;
        --WColorTheme-scrollbar-opacity-hover: 0.3;
        --WColorTheme-scrollbar-offset: 8px;

        /* Shadow System */
        --WColorTheme-shadow-blur: 4px;
        --WColorTheme-shadow-spread: 0px;
        --WColorTheme-shadow-y: 2px;
        --WColorTheme-shadow-opacity: 0.06;
        --WColorTheme-shadow-border-opacity: 0.08;
        --WColorTheme-shadow-dark-opacity: 0.3;
        --WColorTheme-shadow-dark-border-opacity: 0.08;

        /* Color System - Monochrome Theme */
        --WColorTheme-color-background: oklch(21% 0.006 285.885);
        --WColorTheme-color-surface: oklch(92.8% 0.006 264.531);
        --WColorTheme-color-background-dark: oklch(21% 0.006 285.885);
        --WColorTheme-color-surface-dark: var(--gray-950);

        /* Animation System */
        --WColorTheme-animation-duration: 12s;
        --WColorTheme-animation-blur: 120px;
        --WColorTheme-animation-opacity: 0.2;
        --WColorTheme-animation-scale: 2;
        --WColorTheme-animation-dark-blur: 140px;
        --WColorTheme-animation-dark-opacity: 1;

        /* Gradient Colors */
        --WColorTheme-gradient-color-1: #3498db;
        --WColorTheme-gradient-color-2: #e67e22;
        --WColorTheme-gradient-color-3: #1abc9c;
        --WColorTheme-gradient-color-4: #9b59b6;
        --WColorTheme-gradient-color-5: #e74c3c;
        --WColorTheme-gradient-color-6: #f39c12;

        /* Effects */
        --WColorTheme-backdrop-blur: 10px;

        /* Component Dimensions */
        --WColorTheme-topbar-height: 2rem;
        --WColorTheme-content-offset-with-topbar: calc(2 * (var(--WColorTheme-topbar-height) + var(--WColorTheme-space-top) + var(--WColorTheme-space-bottom) + var(--WColorTheme-space-outer)));
        --WColorTheme-content-offset-without-topbar: calc(2 * (var(--WColorTheme-space-top) + var(--WColorTheme-space-bottom) + var(--WColorTheme-space-outer)));
        --WColorTheme-content-offset: var(--WColorTheme-content-offset-with-topbar);
        --WColorTheme-sidebar-height: calc(100vh - var(--WColorTheme-content-offset));

        /* Sidebar System */
        --WColorTheme-sidebar-padding-x: 1rem;
        --WColorTheme-sidebar-item-margin-left: 1rem;
        --WColorTheme-sidebar-item-margin-right: 0.8rem;
    }

    /* Keyframes for spinning animation */
    @keyframes WColorTheme-spin-blob {
        0% {
            transform: translate(-50%, -50%) rotate(0deg) scale(var(--WColorTheme-animation-scale));
        }
        100% {
            transform: translate(-50%, -50%) rotate(360deg) scale(var(--WColorTheme-animation-scale));
        }
    }
}

@media (min-width: 540px) {

    /* Viewport Lock */
    html,
    body {
        overflow: hidden !important;
        height: 100vh !important;
        max-height: 100vh !important;
        width: 100% !important;
        position: relative !important;
    }

    /* Scrollbar Styling - Universal */
    .fi-main-ctn .fi-main::-webkit-scrollbar,
    .fi-sidebar-nav::-webkit-scrollbar,
    *::-webkit-scrollbar {
        width: var(--WColorTheme-scrollbar-size) !important;
        height: var(--WColorTheme-scrollbar-size) !important;
    }

    .fi-main-ctn .fi-main::-webkit-scrollbar-track,
    .fi-sidebar-nav::-webkit-scrollbar-track,
    *::-webkit-scrollbar-track {
        background: transparent !important;
        margin: var(--WColorTheme-scrollbar-offset) !important;
    }

    .fi-main-ctn .fi-main::-webkit-scrollbar-thumb,
    .fi-sidebar-nav::-webkit-scrollbar-thumb,
    *::-webkit-scrollbar-thumb {
        background: rgba(0, 0, 0, var(--WColorTheme-scrollbar-opacity)) !important;
        border-radius: var(--WColorTheme-scrollbar-radius) !important;
    }

    .fi-main-ctn .fi-main::-webkit-scrollbar-thumb:hover,
    .fi-sidebar-nav::-webkit-scrollbar-thumb:hover,
    *::-webkit-scrollbar-thumb:hover {
        background: rgba(0, 0, 0, var(--WColorTheme-scrollbar-opacity-hover)) !important;
    }

    /* Dark Mode Scrollbar */
    .dark .fi-main-ctn .fi-main::-webkit-scrollbar-thumb,
    .dark .fi-sidebar-nav::-webkit-scrollbar-thumb,
    .dark *::-webkit-scrollbar-thumb {
        background: rgba(255, 255, 255, var(--WColorTheme-scrollbar-opacity)) !important;
    }

    .dark .fi-main-ctn .fi-main::-webkit-scrollbar-thumb:hover,
    .dark .fi-sidebar-nav::-webkit-scrollbar-thumb:hover,
    .dark *::-webkit-scrollbar-thumb:hover {
        background: rgba(255, 255, 255, var(--WColorTheme-scrollbar-opacity-hover)) !important;
    }

    /* Modal des notifications de base de données uniquement */
    #database-notifications > div:nth-child(2) > div {
        height: calc(100vh - var(--WColorTheme-content-offset) + var(--WColorTheme-space-outer) + 2 * var(--WColorTheme-topbar-height)) !important;
        background-color: var(--WColorTheme-color-surface) !important;
        border-radius: var(--WColorTheme-radius-container) !important;
    }

    .dark #database-notifications > div:nth-child(2) > div {
        background-color: var(--WColorTheme-color-surface-dark) !important;
    }

    /* Effet glassmorphisme sur l'arrière-plan quand modal ouverte */
    .fi-modal-overlay,
    .fi-modal-close-overlay {
        backdrop-filter: blur(8px) saturate(150%) brightness(0.6) !important;
        background: rgba(0, 0, 0, 0.2) !important;
        transition: backdrop-filter 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
    }

    /* Renforcer le focus sur la modal */
    .fi-modal-window {
        backdrop-filter: blur(25px) saturate(280%) !important;
        background: rgba(255, 255, 255, 0.9) !important;
        border: 1px solid rgba(255, 255, 255, 0.3) !important;
        box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37) !important;
        border-radius: var(--WColorTheme-radius-container) !important;
    }

    .dark .fi-modal-window {
        background: rgba(0, 0, 0, 0.25) !important;
        border: 1px solid rgba(255, 255, 255, 0.1) !important;
        box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.5) !important;
    }

    /* Main Container Base */
    .fi-main {
        margin-inline: 0 !important;
        background-color: var(--WColorTheme-color-surface) !important;
        opacity: 1 !important;
    }

    .fi-main:where(.dark, .dark *) {
        background-color: var(--WColorTheme-color-surface-dark) !important;
    }

    /* Main Content Wrapper */
    .fi-main-ctn {
        width: 100% !important;
        padding-left: var(--WColorTheme-space-outer) !important;
        padding-right: var(--WColorTheme-space-outer) !important;
        position: relative !important;

    }

    @media (max-width: 1023px) {
        .fi-main-ctn {
            padding-left: var(--WColorTheme-space-outer) !important;
        }
    }

    /* Main Content Area */
    .fi-main-ctn .fi-main {
        max-width: none !important;
        margin-top: var(--WColorTheme-space-top) !important;
        margin-bottom: var(--WColorTheme-space-bottom) !important;
        margin-left: 0 !important;
        margin-right: 0 !important;
        border-radius: var(--WColorTheme-radius-container) !important;
        height: calc(100vh - var(--WColorTheme-content-offset)) !important;
        max-height: calc(100vh - var(--WColorTheme-content-offset)) !important;
        background-color: var(--WColorTheme-color-surface) !important;
        position: relative !important;
        overflow-y: auto !important;
        overflow-x: auto !important;
        box-shadow:
            0 var(--WColorTheme-shadow-y) var(--WColorTheme-shadow-blur) var(--WColorTheme-shadow-spread) rgba(0, 0, 0, var(--WColorTheme-shadow-opacity)),
            0 0 0 1px rgba(0, 0, 0, var(--WColorTheme-shadow-border-opacity)) !important;
    }

    /* Rounded Corners for Child Elements */
    .fi-main-ctn .fi-main>* {
        border-radius: inherit !important;
    }

    .fi-main-ctn .fi-main>*>* {
        border-radius: var(--WColorTheme-radius-content) !important;
    }

    .fi-main-ctn {
        border-radius: var(--WColorTheme-radius-container) !important;
    }

    /* Navigation Override */
    .fi-body-has-top-navigation .fi-main-ctn .fi-main {
        margin-left: 0 !important;
        margin-right: 0 !important;
        border-radius: var(--WColorTheme-radius-container) !important;
    }

    .fi-main-ctn .fi-main:where(.dark, .dark *) {
        background-color: var(--WColorTheme-color-surface-dark) !important;
    }

    /* Dark Mode Shadows */
    @media (prefers-color-scheme: dark) {
        .fi-main-ctn .fi-main {
            box-shadow:
                0 var(--WColorTheme-shadow-y) var(--WColorTheme-shadow-blur) var(--WColorTheme-shadow-spread) rgba(0, 0, 0, var(--WColorTheme-shadow-dark-opacity)),
                0 0 0 1px rgba(255, 255, 255, var(--WColorTheme-shadow-dark-border-opacity)) !important;
        }
    }

    [data-theme="dark"] .fi-main-ctn .fi-main {
        box-shadow:
            0 var(--WColorTheme-shadow-y) var(--WColorTheme-shadow-blur) var(--WColorTheme-shadow-spread) rgba(0, 0, 0, var(--WColorTheme-shadow-dark-opacity)),
            0 0 0 1px rgba(255, 255, 255, var(--WColorTheme-shadow-dark-border-opacity)) !important;
    }

    /* Topbar */
    .fi-topbar-ctn {
        position: sticky !important;
        top: 0 !important;
    }

    .fi-topbar {
        background-color: var(--WColorTheme-color-surface) !important;
        border-radius: var(--WColorTheme-radius-container) !important;
        box-shadow:
            0 var(--WColorTheme-shadow-y) var(--WColorTheme-shadow-blur) var(--WColorTheme-shadow-spread) rgba(0, 0, 0, var(--WColorTheme-shadow-opacity)),
            0 0 0 1px rgba(0, 0, 0, var(--WColorTheme-shadow-border-opacity)) !important;
        margin-left: var(--WColorTheme-space-outer) !important;
        margin-right: var(--WColorTheme-space-outer) !important;
        margin-top: var(--WColorTheme-space-top) !important;
        margin-bottom: 0 !important;
        padding: 0.5rem 1rem !important;
        height: var(--WColorTheme-topbar-height) !important;
        backdrop-filter: blur(var(--WColorTheme-backdrop-blur)) !important;
        position: relative !important;
        overflow: visible !important;
    }

    .fi-topbar:where(.dark, .dark *) {
        background-color: var(--WColorTheme-color-surface-dark) !important;
        box-shadow:
            0 var(--WColorTheme-shadow-y) var(--WColorTheme-shadow-blur) var(--WColorTheme-shadow-spread) rgba(0, 0, 0, var(--WColorTheme-shadow-dark-opacity)),
            0 0 0 1px rgba(255, 255, 255, var(--WColorTheme-shadow-dark-border-opacity)) !important;
    }

    [data-theme="dark"] .fi-topbar {
        background-color: var(--WColorTheme-color-surface-dark) !important;
        box-shadow:
            0 var(--WColorTheme-shadow-y) var(--WColorTheme-shadow-blur) var(--WColorTheme-shadow-spread) rgba(0, 0, 0, var(--WColorTheme-shadow-dark-opacity)),
            0 0 0 1px rgba(255, 255, 255, var(--WColorTheme-shadow-dark-border-opacity)) !important;
    }

    @media (prefers-color-scheme: dark) {
        .fi-topbar {
            box-shadow:
                0 var(--WColorTheme-shadow-y) var(--WColorTheme-shadow-blur) var(--WColorTheme-shadow-spread) rgba(0, 0, 0, var(--WColorTheme-shadow-dark-opacity)),
                0 0 0 1px rgba(255, 255, 255, var(--WColorTheme-shadow-dark-border-opacity)) !important;
        }
    }

    /* Adjust content offset when no topbar exists */
    .fi-body:not(:has(.fi-topbar-ctn)) {
        --WColorTheme-content-offset: var(--WColorTheme-content-offset-without-topbar);
        --WColorTheme-sidebar-height: calc(100vh - var(--WColorTheme-content-offset-without-topbar));
    }

    /* Sidebar */
    aside.fi-sidebar.fi-main-sidebar {
        height: var(--WColorTheme-sidebar-height) !important;
        max-height: var(--WColorTheme-sidebar-height) !important;
        margin-left: var(--WColorTheme-space-outer) !important;
        margin-top: var(--WColorTheme-space-top) !important;
        margin-bottom: var(--WColorTheme-space-bottom) !important;
        padding: 0 !important;
        box-sizing: border-box !important;
        background-color: var(--WColorTheme-color-surface) !important;
        border-radius: var(--WColorTheme-radius-container) !important;
        box-shadow:
            0 var(--WColorTheme-shadow-y) var(--WColorTheme-shadow-blur) var(--WColorTheme-shadow-spread) rgba(0, 0, 0, var(--WColorTheme-shadow-opacity)),
            0 0 0 1px rgba(0, 0, 0, var(--WColorTheme-shadow-border-opacity)) !important;
        backdrop-filter: blur(var(--WColorTheme-backdrop-blur)) !important;
    }

    aside.fi-sidebar.fi-main-sidebar:where(.dark, .dark *) {
        background-color: var(--WColorTheme-color-surface-dark) !important;
        box-shadow:
            0 var(--WColorTheme-shadow-y) var(--WColorTheme-shadow-blur) var(--WColorTheme-shadow-spread) rgba(0, 0, 0, var(--WColorTheme-shadow-dark-opacity)),
            0 0 0 1px rgba(255, 255, 255, var(--WColorTheme-shadow-dark-border-opacity)) !important;
    }

    [data-theme="dark"] aside.fi-sidebar.fi-main-sidebar {
        background-color: var(--WColorTheme-color-surface-dark) !important;
        box-shadow:
            0 var(--WColorTheme-shadow-y) var(--WColorTheme-shadow-blur) var(--WColorTheme-shadow-spread) rgba(0, 0, 0, var(--WColorTheme-shadow-dark-opacity)),
            0 0 0 1px rgba(255, 255, 255, var(--WColorTheme-shadow-dark-border-opacity)) !important;
    }

    .fi-sidebar-nav {
        padding-left: var(--WColorTheme-sidebar-padding-x) !important;
        padding-right: var(--WColorTheme-sidebar-padding-x) !important;
        padding-inline: 0 !important;
        position: relative !important;
        overflow-y: auto !important;
        overflow-x: hidden !important;
    }



    .fi-sidebar-item, .fi-sidebar-group-btn {
        margin-left: var(--WColorTheme-sidebar-item-margin-left) !important;
        margin-right: var(--WColorTheme-sidebar-item-margin-right) !important;
    }


    /* Background - Animated Gradient */
    .fi-body {
        background-color: var(--WColorTheme-color-background) !important;
        position: relative;
        overflow: hidden;
    }

    /* Animated gradient blob */
    .fi-body::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 100%;
        height: 100%;
        filter: blur(var(--WColorTheme-animation-blur));
        opacity: var(--WColorTheme-animation-opacity);
        background: conic-gradient(
            from 0deg,
            var(--WColorTheme-gradient-color-1),
            var(--WColorTheme-gradient-color-2),
            var(--WColorTheme-gradient-color-3),
            var(--WColorTheme-gradient-color-4),
            var(--WColorTheme-gradient-color-5),
            var(--WColorTheme-gradient-color-6),
            var(--WColorTheme-gradient-color-1)
        );
        animation: WColorTheme-spin-blob var(--WColorTheme-animation-duration) linear infinite;
        will-change: transform;
        pointer-events: none;

    }

    .fi-body:where(.dark, .dark *) {
        background-color: var(--WColorTheme-color-background-dark) !important;
    }

    .fi-body:where(.dark, .dark *)::before {
        filter: blur(var(--WColorTheme-animation-dark-blur));
        opacity: var(--WColorTheme-animation-dark-opacity);
    }

    [data-theme="dark"] .fi-body {
        background-color: var(--WColorTheme-color-background-dark) !important;
    }

    [data-theme="dark"] .fi-body::before {
        filter: blur(var(--WColorTheme-animation-dark-blur));
        opacity: var(--WColorTheme-animation-dark-opacity);
    }

    @media (prefers-color-scheme: dark) {
        .fi-body {
            background-color: var(--WColorTheme-color-background-dark) !important;
        }

        .fi-body::before {
            filter: blur(var(--WColorTheme-animation-dark-blur));
            opacity: var(--WColorTheme-animation-dark-opacity);
        }
    }
}

/* Mobile */
@media (max-width: 767px) {
    .fi-body {
        background-color: var(--WColorTheme-color-background) !important;
    }

    .fi-body:where(.dark, .dark *) {
        background-color: var(--WColorTheme-color-background-dark) !important;
    }

    [data-theme="dark"] .fi-body {
        background-color: var(--WColorTheme-color-background-dark) !important;
    }

    @media (prefers-color-scheme: dark) {
        .fi-body {
            background-color: var(--WColorTheme-color-background-dark) !important;
        }
    }
}

@media (max-width: 1024px) {
    .fi-main-sidebar .fi-sidebar-nav {
        margin-right: var(--WColorTheme-space-outer) !important;
    }
}

</style>
